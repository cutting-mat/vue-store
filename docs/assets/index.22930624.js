import{o as _,e as h,f as n,M as k,b5 as v,b6 as g,Y as d,_ as c,T as u,Z as $,F as w,ah as A,b7 as M,a6 as x,b8 as N,aU as V,a8 as E,v as I,b2 as L}from"./vendor.394f588b.js";import{i as O}from"./element-plus.3af353f9.js";const B=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(e){if(e.ep)return;e.ep=!0;const a=o(e);fetch(e.href,a)}};B();var p=(t,s)=>{const o=t.__vccOpts||t;for(const[i,e]of s)o[i]=e;return o};const P={name:"myHeader",data(){return{}},methods:{}},y=t=>(v("data-v-725288ee"),t=t(),g(),t),z={class:"header flex-row align-center"},R=y(()=>n("h1",{class:"logo"},"vue-store",-1)),F={class:"center flex-1"},H=y(()=>n("a",{class:"link",target:"_blank",title:"Github",href:"https://github.com/cutting-mat/vue-store"},[n("svg",{height:"32",viewBox:"0 0 16 16",version:"1.1",width:"32","data-view-component":"true"},[n("path",{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})])],-1));function T(t,s,o,i,e,a){return _(),h("div",z,[R,n("div",F,[k(t.$slots,"default",{},void 0,!0)]),H])}var j=p(P,[["render",T],["__scopeId","data-v-725288ee"]]);const D={data(){return{}},methods:{}},G=t=>(v("data-v-5615e6e3"),t=t(),g(),t),Y={class:"foot"},q=G(()=>n("p",null,[d(" \xA9 2022 - 3022 Author "),n("a",{href:"https://refined-x.com/",target:"_blank"},"\u96C5X\u5171\u8D4F"),d(" Github "),n("a",{href:"https://github.com/cutting-mat/vue-store",target:"_blank"},"vue-store")],-1)),K=[q];function U(t,s,o,i,e,a){return _(),h("footer",Y,K)}var X=p(D,[["render",U],["__scopeId","data-v-5615e6e3"]]);const Z={data(){return{loading:!1,log:[]}},computed:{state(){return this.$store.state}},methods:{getNonExistent(){this.$store.set("non-existent",Math.random()).catch(t=>{this.log.push(t)})},setNonExistent(){this.log.push(this.$store.get("non-existent"))},handleAsync(){this.loading=!0,this.$store.action("testAction").then(()=>{this.loading=!1})}},created(){}},S=t=>(v("data-v-a5777aaa"),t=t(),g(),t),J={class:"flex-1 scrollbar"},Q={class:"wrap"},W=M('<h1 class="maintitle" data-v-a5777aaa>Vue-Store</h1><h2 class="subtitle" data-v-a5777aaa> \u66F4\u7B80\u5355\u7684 vue \u72B6\u6001\u7BA1\u7406\u63D2\u4EF6\u3002 <br data-v-a5777aaa>\u5982\u679C\u4F60\u4E5F\u89C9\u5F97 Vuex \u6709\u70B9\u590D\u6742\uFF0C\u90A3\u4E48\u4F60\u9700\u8981 vue-store </h2><div data-v-a5777aaa><a href="https://github.com/cutting-mat/vue-store/blob/main/README_CN.md" target="_blank" class="myBtn" data-v-a5777aaa><i class="el-icon-magic-stick" data-v-a5777aaa></i> \u5FEB\u901F\u5F00\u59CB </a></div><h3 class="channeltitle" data-v-a5777aaa>\u6F14\u793A</h3>',4),tt=d("\u66F4\u65B0"),et=d("\u5F02\u6B65\u66F4\u65B0"),st=d("\u8BFB\u53D6\u672A\u6CE8\u518C\u7684\u503C"),at=d("\u8BBE\u7F6E\u672A\u6CE8\u518C\u7684\u503C"),ot={class:"log"},nt={class:"_btn"},it=S(()=>n("svg",{class:"icon",width:"1.2em",height:"1.2em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","data-v-042ca774":""},[n("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 01128 512h64a320 320 0 00555.712 216.448H654.72a32 32 0 110-64h149.056a32 32 0 0132 32v148.928a32 32 0 11-64 0v-50.56zM276.288 295.616h92.992a32 32 0 010 64H220.16a32 32 0 01-32-32V178.56a32 32 0 0164 0v50.56A384 384 0 01896.128 512h-64a320 320 0 00-555.776-216.384z"})],-1)),rt=S(()=>n("svg",{width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-v-d8946a48":""},[n("path",{d:"M23 12l-7.071 7.071l-1.414-1.414L20.172 12l-5.657-5.657l1.414-1.414L23 12zM3.828 12l5.657 5.657l-1.414 1.414L1 12l7.071-7.071l1.414 1.414L3.828 12z",fill:"currentColor"})],-1));function lt(t,s,o,i,e,a){const r=x("el-button"),b=x("el-link");return _(),h("div",J,[n("div",Q,[W,c(r,{onClick:s[0]||(s[0]=f=>a.state.testValue++)},{default:u(()=>[tt]),_:1}),c(r,{disabled:e.loading,loading:e.loading,onClick:a.handleAsync,title:"$store.action"},{default:u(()=>[et]),_:1},8,["disabled","loading","onClick"]),c(r,{onClick:a.getNonExistent,title:"\u63A7\u5236\u53F0\u5C06\u62A5\u9519"},{default:u(()=>[st]),_:1},8,["onClick"]),c(r,{onClick:a.setNonExistent,title:"\u63A7\u5236\u53F0\u5C06\u62A5\u9519"},{default:u(()=>[at]),_:1},8,["onClick"]),n("div",ot,[n("div",nt,[c(b,{target:"_blank",title:"\u6E05\u7A7A\u65E5\u5FD7",underline:!1,onClick:s[1]||(s[1]=f=>e.log=[])},{default:u(()=>[it]),_:1}),c(b,{href:"https://github.com/cutting-mat/vue-store/blob/main/test/App.vue",target:"_blank",title:"\u67E5\u770B\u4EE3\u7801",underline:!1},{default:u(()=>[rt]),_:1})]),d(" state.testValue = "+$(a.state.testValue)+" ",1),(_(!0),h(w,null,A(e.log,(f,C)=>(_(),h("div",{key:C},$(f),1))),128))])])])}var ct=p(Z,[["render",lt],["__scopeId","data-v-a5777aaa"]]);const dt={setup(t){return(s,o)=>(_(),h(w,null,[c(j),c(ct),c(X)],64))}},l={state:{},actions:{},inStore(t){return this.state[t]!==void 0},set(t,s){return new Promise((o,i)=>{this.inStore(t)?(this.state[t]=s,o(s)):i(`[Store] set("${t}", value): the key has not registered yet!`)})},get(t){if(t&&t.split)return this.inStore(t)?this.state[t]:new Error(`[Store] get("${t}"): the key has not registered yet!`)},action(t,s){return new Promise((o,i)=>{if(typeof this.actions[t]=="function"){const e=this.actions[t]({get:this.get.bind(l),set:this.set.bind(l)},s);e&&typeof e.then=="function"?e.then(a=>{this.inStore(t)&&this.set(t,a),o(a)}).catch(i):o(e)}else i(`[Store] action("${t}", ${s}): the action has not registered yet!`)})}};function ut(t,s){if(t&&(t.state||t.actions)&&s===void 0&&(s=t,t=null),s){let o=s.state||{};typeof o=="function"&&(o=o()||{});let i=N(l.state)?V(l.state):l.state;const e=Object.assign(i,o);l.state=E(e),Object.keys(e).forEach(a=>{I(()=>l.state[a],r=>{console.log("[Store] update:",a,"=>",r)})}),Object.assign(l.actions,s.actions||{})}return t&&(t.config.globalProperties.$store=l),l}const _t={install:ut};var ht={state:{testValue:0},actions:{testAction:function(t){return new Promise(s=>{setTimeout(()=>{t.set("testValue",parseInt(t.get("testValue")+1)),s()},500)})}}};const m=L(dt);m.use(O);m.use(_t,ht);m.mount("#app");
