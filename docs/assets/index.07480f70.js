import{o as u,c as _,a,r as A,p as b,b as $,d as h,i as M,t as k,e as N,w as I,f as v,g as l,h as d,j as x,F as E,k as L,l as O,m as B,n as F}from"./vendor.526fb06f.js";const H=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}};H();var g=(t,o)=>{const n=t.__vccOpts||t;for(const[i,e]of o)n[i]=e;return n};const P={name:"myHeader",data(){return{}},methods:{}},y=t=>(b("data-v-725288ee"),t=t(),$(),t),j={class:"header flex-row align-center"},z=y(()=>a("h1",{class:"logo"},"vue-store",-1)),R={class:"center flex-1"},D=y(()=>a("a",{class:"link",target:"_blank",title:"Github",href:"https://github.com/cutting-mat/vue-store"},[a("svg",{height:"32",viewBox:"0 0 16 16",version:"1.1",width:"32","data-view-component":"true"},[a("path",{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})])],-1));function G(t,o,n,i,e,s){return u(),_("div",j,[z,a("div",R,[A(t.$slots,"default",{},void 0,!0)]),D])}var T=g(P,[["render",G],["__scopeId","data-v-725288ee"]]);const q={data(){return{}},methods:{}},K=t=>(b("data-v-5615e6e3"),t=t(),$(),t),Q={class:"foot"},X=K(()=>a("p",null,[h(" \xA9 2022 - 3022 Author "),a("a",{href:"https://refined-x.com/",target:"_blank"},"\u96C5X\u5171\u8D4F"),h(" Github "),a("a",{href:"https://github.com/cutting-mat/vue-store",target:"_blank"},"vue-store")],-1)),Y=[X];function J(t,o,n,i,e,s){return u(),_("footer",Q,Y)}var U=g(q,[["render",J],["__scopeId","data-v-5615e6e3"]]);const c={state:{},actions:{},inStore(t){return this.state[t]!==void 0},set(t,o){return new Promise((n,i)=>{this.inStore(t)?(this.state[t]=o,n(o)):i(`[Store] set("${t}", value): the key has not registered yet!`)})},get(t){if(t&&t.split)return this.inStore(t)?this.state[t]:new Error(`[Store] get("${t}"): the key has not registered yet!`)},action(t,o){return new Promise((n,i)=>{if(typeof this.actions[t]=="function"){const e=this.actions[t]({get:this.get.bind(c),set:this.set.bind(c)},o);e&&typeof e.then=="function"?e.then(s=>{this.inStore(t)&&this.set(t,s),n(s)}).catch(i):n(e)}else i(`[Store] action("${t}", ${o}): the action has not registered yet!`)})}};let m={};function S(t,o){if(t&&o===void 0&&(t.state||t.actions?(o=t,t=null):(t=null,console.warn("[Store] options format error"))),o){let n=o.state||{};typeof n=="function"&&(n=n()||{});let i=M(c.state)?k(c.state):c.state;const e=Object.assign(i,n);c.state=N(e),Object.keys(e).forEach(s=>{typeof m[s]=="function"&&m[s](),m[s]=I(()=>c.state[s],r=>{console.log("[Store] update:",s,"=>",r)})}),Object.assign(c.actions,o.actions||{})}return t&&(t.config.globalProperties.$store=c),c}const W={install:S};const Z=S({state:{inject:0}}),tt={data(){return{loading:!1,log:[]}},computed:{state(){return this.$store.state},testValue(){return this.$store.state.testValue}},methods:{setNonExistent(){this.$store.set("non-existent",Math.random()).catch(t=>{this.log.push(t)})},getNonExistent(){this.log.push(this.$store.get("non-existent"))},handleAsync(){this.loading=!0,this.$store.action("testAction").then(()=>{this.loading=!1})}},created(){setInterval(()=>{Z.state.inject++},1e3)}},C=t=>(b("data-v-3828bcb2"),t=t(),$(),t),et={class:"flex-1 scrollbar"},st={class:"wrap"},ot=O('<h1 class="maintitle" data-v-3828bcb2>Vue-Store</h1><h2 class="subtitle" data-v-3828bcb2> \u66F4\u7B80\u5355\u7684 vue \u72B6\u6001\u7BA1\u7406\u63D2\u4EF6\u3002 <br data-v-3828bcb2>\u5982\u679C\u4F60\u4E5F\u89C9\u5F97 Vuex \u6709\u70B9\u590D\u6742\uFF0C\u90A3\u4E48\u4F60\u9700\u8981 vue-store </h2><div data-v-3828bcb2><a href="https://github.com/cutting-mat/vue-store/blob/main/README_CN.md" target="_blank" class="myBtn" data-v-3828bcb2><i class="el-icon-magic-stick" data-v-3828bcb2></i> \u5FEB\u901F\u5F00\u59CB </a></div><h3 class="channeltitle" data-v-3828bcb2>\u6F14\u793A</h3>',4),nt=h(" \u66F4\u65B0 "),at=h(" \u5F02\u6B65\u66F4\u65B0 "),it=h(" \u8BFB\u53D6\u672A\u6CE8\u518C\u7684\u503C "),rt=h(" \u8BBE\u7F6E\u672A\u6CE8\u518C\u7684\u503C "),ct={class:"log"},lt={class:"_btn"},dt=C(()=>a("svg",{class:"icon",width:"1.2em",height:"1.2em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","data-v-042ca774":""},[a("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 01128 512h64a320 320 0 00555.712 216.448H654.72a32 32 0 110-64h149.056a32 32 0 0132 32v148.928a32 32 0 11-64 0v-50.56zM276.288 295.616h92.992a32 32 0 010 64H220.16a32 32 0 01-32-32V178.56a32 32 0 0164 0v50.56A384 384 0 01896.128 512h-64a320 320 0 00-555.776-216.384z"})],-1)),ut=C(()=>a("svg",{width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-v-d8946a48":""},[a("path",{d:"M23 12l-7.071 7.071l-1.414-1.414L20.172 12l-5.657-5.657l1.414-1.414L23 12zM3.828 12l5.657 5.657l-1.414 1.414L1 12l7.071-7.071l1.414 1.414L3.828 12z",fill:"currentColor"})],-1));function _t(t,o,n,i,e,s){const r=v("el-button"),p=v("el-link");return u(),_("div",et,[a("div",st,[ot,l(r,{title:"$store.state.testValue++",onClick:o[0]||(o[0]=f=>t.$store.state.testValue++)},{default:d(()=>[nt]),_:1}),l(r,{disabled:e.loading,loading:e.loading,onClick:s.handleAsync,title:"$store.action"},{default:d(()=>[at]),_:1},8,["disabled","loading","onClick"]),l(r,{onClick:s.getNonExistent,title:"\u63A7\u5236\u53F0\u5C06\u62A5\u9519"},{default:d(()=>[it]),_:1},8,["onClick"]),l(r,{onClick:s.setNonExistent,title:"\u63A7\u5236\u53F0\u5C06\u62A5\u9519"},{default:d(()=>[rt]),_:1},8,["onClick"]),a("div",ct,[a("div",lt,[l(p,{target:"_blank",title:"\u6E05\u7A7A\u65E5\u5FD7",underline:!1,onClick:o[1]||(o[1]=f=>e.log=[])},{default:d(()=>[dt]),_:1}),l(p,{href:"https://github.com/cutting-mat/vue-store/blob/main/test/App.vue",target:"_blank",title:"\u67E5\u770B\u4EE3\u7801",underline:!1},{default:d(()=>[ut]),_:1})]),a("div",null," $store.state.testValue = "+x(s.testValue),1),(u(!0),_(E,null,L(e.log,(f,V)=>(u(),_("div",{key:V},x(f),1))),128))])])])}var ht=g(tt,[["render",_t],["__scopeId","data-v-3828bcb2"]]);const ft={components:{myHeader:T,myFooter:U,Main:ht}};function vt(t,o,n,i,e,s){const r=v("myHeader"),p=v("Main"),f=v("myFooter");return u(),_("div",null,[l(r),l(p),l(f)])}var pt=g(ft,[["render",vt]]);var gt={state:{testValue:0},actions:{testAction:function(t){return new Promise(o=>{setTimeout(()=>{t.set("testValue",parseInt(t.get("testValue")+1)),o()},500)})}}};const w=B(pt);w.use(F);w.use(W,gt);w.mount("#app");
